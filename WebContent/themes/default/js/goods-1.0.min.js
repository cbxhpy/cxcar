
window.mchat = window.mchat || {};
window._gaq = window._gaq || [];
_DATA = window._DATA || {};
_DATA.cityList = {};
_DATA.districtList = {};
_DATA.customDistrictList = {};
_DATA.getExprList = true;
_DATA.number = 1;
_DATA.region = {};
var Goods_zgb = {
    author: "leihao",
    createTime: "2014/12/15",
    version: "1.0",
    init: function() {
        //this.albumEvent();
        //this.getExprZhanPinDataByAjax();
        //this.collectEvent();

        //this.recommendEvent();
        this.toggleBarScrollToFixed();
        this.toggleTabByClick();
        //this.suitAndMatchEvent();
        //this.slideTab($("#JS_faq_tab_head a"), $("#JS_faq_tab_body ul"), "current", "click");
    },
    toggleBarScrollToFixed: function() {
        var b = this;
        this.floatNavs = $("#JS_float_navs");
        var a = $("#JS_float_navs_position");
        if (!a || !a.length) {
            return;
        }
        $(window).scroll(function() {
            var d = b.floatNavs;
            var e = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
            var c = b.navsOffsetTop = a.offset().top;
            if (e > c) {
                d.addClass("fixed-top");
                _DATA.navsIsFloat = b.navsIsFloat = true;
            } else {
                d.removeClass("fixed-top");
                _DATA.navsIsFloat = b.navsIsFloat = false;
            }
        });
    },
    toggleTabByClick: function() {
        var d = this,
        c = ["xiangqing", "guige", "pingjia", "jilu", "tiyanguan", "baozhang", "pinpai"],
        b = [],
        a = [];
        jQuery.each(c,
        function(e) {
            a = jQuery.merge(a, $("#JS_gd_tab_body_" + c[e]));
            var f = $("#JS_gd_tab_head_" + c[e]);
            f.attr("data-key", c[e]);
            b = jQuery.merge(b, f);
        });
        b = $(b);
        a = $(a);
        b.click(function(f) {
            if (d.navsIsFloat) {
                window.scroll(0, d.navsOffsetTop - 1);
            }
            var f = b.index(this),
            g = b.eq(f),
            e = g.attr("data-key");
            b.removeClass("current").eq(f).addClass("current");
            switch (e) {
            case "xiangqing":
                a.show();
                $("#JS_gd_tab_body_guige").hide();
                $("#JS_gd_tab_body_pinpai").show();
                break;
            case "baozhang":
                a.hide().eq(f).show();
                break;
            default:
                a.hide().eq(f).show();
                $("#JS_gd_tab_body_baozhang").show();
                break;
            }
            a.removeClass("current").eq(f).addClass("current");
            clearInterval(_DATA.exprGaTimer);
            _DATA.currentTab = e;
            window._gaq.push(["_trackEvent", "新版商品详情页", "导航Tab点击", $(this).data("value")]);
        });
    }

};
Goods_zgb.init();
